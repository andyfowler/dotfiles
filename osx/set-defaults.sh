# sane os x defaults via holman and andrewsardone

# Set computer name (as done via System Preferences → Sharing)
scutil --set ComputerName "vy"
scutil --set HostName "vy"
scutil --set LocalHostName "vy"

# Show the ~/Library folder.
chflags nohidden ~/Library

# Set the Finder prefs for showing a few different volumes on the Desktop.
defaults write com.apple.finder ShowExternalHardDrivesOnDesktop -bool true
defaults write com.apple.finder ShowRemovableMediaOnDesktop -bool true

# Hide Safari's bookmark bar.
defaults write com.apple.Safari ShowFavoritesBar -bool false

# Show Safari's status bar.
defaults write com.apple.Safari ShowStatusBar -bool true

# Set up Safari for development.
defaults write com.apple.Safari IncludeInternalDebugMenu -bool true
defaults write com.apple.Safari IncludeDevelopMenu -bool true
defaults write com.apple.Safari WebKitDeveloperExtrasEnabledPreferenceKey -bool true
defaults write com.apple.Safari "com.apple.Safari.ContentPageGroupIdentifier.WebKit2DeveloperExtrasEnabled" -bool true
defaults write NSGlobalDomain WebKitDeveloperExtras -bool true

# Automatically hide and show the Dock
defaults write com.apple.dock autohide -bool true

# Disable menu bar transparency
defaults write NSGlobalDomain AppleEnableMenuBarTransparency -bool false

# Expand print panel by default
defaults write NSGlobalDomain PMPrintingExpandedStateForPrint -bool true

# Disable the “Are you sure you want to open this application?” dialog
defaults write com.apple.LaunchServices LSQuarantine -bool false

# Delay standby mode for 24 hours. This helps speed up my MacBook Pro's awake
# from sleep time.
# via http://www.ewal.net/2012/09/09/slow-wake-for-macbook-pro-retina/
sudo -p "Enter password to delay standby mode for 24 hours: " pmset -a standbydelay 86400

# Set a blazingly fast keyboard repeat rate
defaults write NSGlobalDomain KeyRepeat -int 0

# Put the dock on the right
defaults write com.apple.dock orientation -string right

# Disable delay to show Dock
defaults write com.apple.Dock autohide-delay -float 0

# Pin Dock to the start position
defaults write com.apple.dock pinning -string start

# Expand save panel by default
defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode -bool true

# Set sidebar icon size to small
# not working :(
# defaults write NSGlobalDomain NSTableViewDefaultSizeMode -int 2

# Save to disk (not to iCloud) by default
defaults write NSGlobalDomain NSDocumentSaveNewDocumentsToCloud -bool false

# Trackpad: enable tap to click for this user and for the login screen
defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad Clicking -bool true
defaults -currentHost write NSGlobalDomain com.apple.mouse.tapBehavior -int 1
defaults write NSGlobalDomain com.apple.mouse.tapBehavior -int 1

# Use scroll gesture with the Ctrl (^) modifier key to zoom
defaults write com.apple.universalaccess closeViewScrollWheelToggle -bool true
defaults write com.apple.universalaccess HIDScrollZoomModifierMask -int 262144

# Finder: show all filename extensions
defaults write NSGlobalDomain AppleShowAllExtensions -bool true

# Disable the warning when changing a file extension
defaults write com.apple.finder FXEnableExtensionChangeWarning -bool false

# Remove the auto-hiding Dock delay
defaults write com.apple.dock autohide-delay -float 0
# Remove the animation when hiding/showing the Dock
defaults write com.apple.dock autohide-time-modifier -float 0

# Copy email addresses as `foo@example.com` instead of `Foo Bar <foo@example.com>` in Mail.app
defaults write com.apple.mail AddressesIncludeNameOnPasteboard -bool false

# Prevent Time Machine from prompting to use new hard drives as backup volume
defaults write com.apple.TimeMachine DoNotOfferNewDisksForBackup -bool true

# Disable local Time Machine backups
hash tmutil &> /dev/null && sudo tmutil disablelocal

# Install SkalaColor – http://bjango.com/mac/skalacolor/
if [ ! -d $HOME/Library/ColorPickers/SkalaColor.colorPicker ]; then
  echo "Installing SkalaColor – http://bjango.com/mac/skalacolor/"
  sc_zip_file=/tmp/skalacolor.zip
  sc_unzip=/tmp/skalacolor
  rm -rf $sc_zip_file $sc_unzip
  curl -Ls http://download.bjango.com/skalacolor/ -o $sc_zip_file
  unzip /tmp/skalacolor.zip -d $sc_unzip > /dev/null 2>&1
  mv $sc_unzip/Skala\ Color\ Installer.app/Contents/Resources/SkalaColor.colorPicker ~/Library/ColorPickers/.
  [ -d $HOME/Library/ColorPickers/SkalaColor.colorPicker ] && echo "✔︎ Success" || echo "‼ Error"
fi
